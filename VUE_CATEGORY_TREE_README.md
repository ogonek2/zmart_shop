# Vue.js –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –Ω–∞ Vue.js —Å API –¥–ª—è Filament –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

## üóÇÔ∏è –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Vue –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **`resources/js/components/CategoryTreeManager.vue`**
   - –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
   - –î–≤—É—Ö–ø–∞–Ω–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–µ—Ä–µ–≤–æ + –¥–µ—Ç–∞–ª–∏)
   - –§—É–Ω–∫—Ü–∏–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö

2. **`resources/js/components/CategoryTreeNode.vue`**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∑–ª–∞ –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
   - –ò–∫–æ–Ω–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (—Å–æ–∑–¥–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å)

### Backend

3. **`app/Http/Controllers/Api/CategoryController.php`**
   - API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
   - –ú–µ—Ç–æ–¥—ã:
     - `tree()` - –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
     - `show($id)` - –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
     - `store()` - —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
     - `update($id)` - –æ–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
     - `destroy($id)` - —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
     - `detachProduct()` - –æ—Ç–≤—è–∑–∞—Ç—å —Ç–æ–≤–∞—Ä –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
     - `move()` - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

### Filament

4. **`app/Filament/Resources/ProductResource/Pages/VueTreeManager.php`**
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ Filament –¥–ª—è Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

5. **`resources/views/filament/resources/product-resource/pages/vue-tree-manager.blade.php`**
   - Blade —à–∞–±–ª–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### Routing

6. **`routes/api.php`**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã API –º–∞—Ä—à—Ä—É—Ç—ã:
     - `GET /api/categories/tree` - –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
     - `GET /api/categories/{id}` - –¥–µ—Ç–∞–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
     - `POST /api/categories` - —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
     - `PUT /api/categories/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
     - `DELETE /api/categories/{id}` - —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
     - `DELETE /api/categories/{categoryId}/products/{productId}` - –æ—Ç–≤—è–∑–∞—Ç—å —Ç–æ–≤–∞—Ä

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

1. –í–æ–π–¥–∏—Ç–µ –≤ Filament –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `/filament-admin`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–¢–æ–≤–∞—Ä—ã"
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–î—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (Vue)"
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è `/filament-admin/products/vue-tree`

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –î–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–ö–ª–∏–∫ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é** - –≤—ã–±—Ä–∞—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Å–ø—Ä–∞–≤–∞
- **–°—Ç—Ä–µ–ª–∫–∞** - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å/—Å–≤–µ—Ä–Ω—É—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ò–∫–æ–Ω–∫–∞ `+`** - —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
- **–ò–∫–æ–Ω–∫–∞ –∫–∞—Ä–∞–Ω–¥–∞—à–∞** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
- **–ò–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã** - —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

#### –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –î–µ—Ç–∞–ª–∏
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ö–Ω–æ–ø–∫–∏:**
  - `+ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è` - —Å–æ–∑–¥–∞—Ç—å –¥–æ—á–µ—Ä–Ω—é—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  - `‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å` - –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
  - `üóëÔ∏è –£–¥–∞–ª–∏—Ç—å` - —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- **–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏** - —Å–ø–∏—Å–æ–∫ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–∫–ª–∏–∫ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞)
- **–¢–æ–≤–∞—Ä—ã** - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã - –æ—Ç–≤—è–∑–∞—Ç—å —Ç–æ–≤–∞—Ä –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## üîß API Endpoints

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```
GET /api/categories/tree
```
–û—Ç–≤–µ—Ç:
```json
[
  {
    "id": 1,
    "name": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1",
    "products_count": 5,
    "children": [...]
  }
]
```

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```
GET /api/categories/{id}
```
–û—Ç–≤–µ—Ç:
```json
{
  "category": {...},
  "subcategories": [...],
  "products": [...]
}
```

### –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
```
POST /api/categories
Content-Type: application/json

{
  "name": "–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è",
  "parent_id": 1,  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "is_active": true,
  "sort_order": 0
}
```

### –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
```
PUT /api/categories/{id}
Content-Type: application/json

{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ"
}
```

### –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
```
DELETE /api/categories/{id}
```
*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–æ—á–µ—Ä–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ*

### –û—Ç–≤—è–∑–∞—Ç—å —Ç–æ–≤–∞—Ä –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```
DELETE /api/categories/{categoryId}/products/{productId}
```

## üõ†Ô∏è –ö–æ–º–ø–∏–ª—è—Ü–∏—è

–î–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ JavaScript:

```bash
npm run dev       # –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run prod      # –î–ª—è production
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **CSRF Token** - –≤—Å–µ POST/PUT/DELETE –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç CSRF —Ç–æ–∫–µ–Ω –∏–∑ meta —Ç–µ–≥–∞:
   ```html
   <meta name="csrf-token" content="{{ csrf_token() }}">
   ```

2. **Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä Vue –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
   ```javascript
   const categoryApp = createApp({});
   categoryApp.component('category-tree-manager', CategoryTreeManager);
   categoryApp.mount('#category-tree-app');
   ```

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Toast –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫:
- `Vue Category Tree Manager —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω
- –û—à–∏–±–∫–∏ fetch - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ API –º–∞—Ä—à—Ä—É—Ç—ã
- –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ - –∑–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Vue.js 3.x (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- Laravel 8.x
- Filament v2
- API –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Vue –ø–æ–¥—Ö–æ–¥–∞

1. ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Vue.js
2. ‚úÖ **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
3. ‚úÖ **API-driven** - —á–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ frontend/backend
4. ‚úÖ **–û—Ç–ª–∞–¥–∫–∞** - –ª–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏
5. ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
